import{t as e,c as r}from"./reactivity.esm-bundler.9bcfc38b.js";import{h as s,r as a,u as t,o,j as n,F as i,a7 as l,$ as u,d as c,m as d,z as m,b as v}from"./vendor.d5b88c84.js";import{u as b}from"./useLoding.b25ee3b2.js";const g={key:0,style:{"margin-bottom":"2em"}};var p=s({props:{errorMsg:{type:null,required:!0}},setup(s){const d=s,{errorMsg:m}=e(d),v=r((()=>b(m.value))),b=function(e){if(e&&!(Object.keys(e).length<=0))return Object.entries(e).map((e=>e.join(" ")))};return(e,r)=>{const s=a("a-alert");return t(v)?(o(),n("div",g,[(o(!0),n(i,null,l(t(v),(e=>(o(),c(s,{key:e,style:{"margin-bottom":"1em"},message:e,"show-icon":"",type:"error"},null,8,["message"])))),128))])):u("",!0)}}});const y=function(e,r,s){const a=d(),{validate:t,validateInfos:o,clearValidate:n,resetFields:i}=m.useForm(e,r),{loading:l,run:u}=b((async()=>{var r,o;try{a.value=void 0,await t(),await s(e.value)}catch(n){console.error(n),v.isAxiosError(n)&&(a.value=null==(o=null==(r=null==n?void 0:n.response)?void 0:r.data)?void 0:o.errors)}}));return{onSubmit:u,submiting:l,validateInfos:o,errorMsg:a,clearValidate:n,resetFields:i}};export{p as _,y as u};
