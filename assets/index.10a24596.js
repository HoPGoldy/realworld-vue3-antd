import{c as e,a as t,b as o,r as a,o as s,d as n,w as r,e as i,f as l,p as u,g as c,h as d,t as m,i as f,u as p,j as g,D as _,S as h,k as y,F as b,l as v,m as E,n as w,B as I,C as L,L as k,A as P,T as A,q as S,s as j,R,v as O,x as T,y as H,M as D,z as V,E as $,I as z,G,H as N,J as q,K as x,V as C,N as K,O as M,P as U,Q as W}from"./vendor.d5b88c84.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const B={},F=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`./${e}`)in B)return;B[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};function J(e){const t=(null!=e?`${e} - `:"")+"Conduit";window.document.title=t}const Q=[{path:"/home",name:"home",alias:"/",meta:{title:"Home"},component:async()=>await F((()=>import("./Home.c8c36e08.js")),["assets/Home.c8c36e08.js","assets/Home.c40ef8b3.css","assets/ArticleList.vue_vue&type=style&index=0&lang.f4c19745.js","assets/ArticleList.vue_vue&type=style&index=0&lang.42cc7664.css","assets/TagList.37334d45.js","assets/TagList.637c7c55.css","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/article.c8400a35.js","assets/useLoding.b25ee3b2.js"])},{path:"/login",name:"login",meta:{title:"Login"},component:async()=>await F((()=>import("./Login.b0c10cc3.js")),["assets/Login.b0c10cc3.js","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/useForm.fca88376.js","assets/reactivity.esm-bundler.9bcfc38b.js","assets/useLoding.b25ee3b2.js"])},{path:"/register",name:"register",meta:{title:"Register"},component:async()=>await F((()=>import("./Login.b0c10cc3.js")),["assets/Login.b0c10cc3.js","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/useForm.fca88376.js","assets/reactivity.esm-bundler.9bcfc38b.js","assets/useLoding.b25ee3b2.js"])},{path:"/editor/:id?",name:"editor",meta:{title:"Editor"},component:async()=>await F((()=>import("./Editor.6329d434.js")),["assets/Editor.6329d434.js","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/article.c8400a35.js","assets/useForm.fca88376.js","assets/reactivity.esm-bundler.9bcfc38b.js","assets/useLoding.b25ee3b2.js"])},{path:"/article/:id?",name:"article",component:async()=>await F((()=>import("./Article.7bfb5550.js")),["assets/Article.7bfb5550.js","assets/Article.af92023b.css","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/TagList.37334d45.js","assets/TagList.637c7c55.css","assets/article.c8400a35.js","assets/useLoding.b25ee3b2.js","assets/FollowButton.vue_vue&type=style&index=0&lang.d9046770.js","assets/FollowButton.vue_vue&type=style&index=0&lang.2d0eb889.css","assets/reactivity.esm-bundler.9bcfc38b.js"])},{path:"/settings",name:"settings",meta:{title:"Settings"},component:async()=>await F((()=>import("./Profile.3e9f77ef.js")),["assets/Profile.3e9f77ef.js","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/useForm.fca88376.js","assets/reactivity.esm-bundler.9bcfc38b.js","assets/useLoding.b25ee3b2.js"])},{path:"/user/:username",name:"user",component:async()=>await F((()=>import("./User.1b56bd0f.js")),["assets/User.1b56bd0f.js","assets/vendor.d5b88c84.js","assets/vendor.80b5a030.css","assets/ArticleList.vue_vue&type=style&index=0&lang.f4c19745.js","assets/ArticleList.vue_vue&type=style&index=0&lang.42cc7664.css","assets/TagList.37334d45.js","assets/TagList.637c7c55.css","assets/article.c8400a35.js","assets/useLoding.b25ee3b2.js","assets/FollowButton.vue_vue&type=style&index=0&lang.d9046770.js","assets/FollowButton.vue_vue&type=style&index=0&lang.2d0eb889.css"])}],X=e({history:t(),routes:Q});X.afterEach(((e,t)=>{J(e.meta.title)}));const Y=e=>{null==e?delete o.defaults.headers.common.authorization:o.defaults.headers.common.authorization=`Token ${e}`};o.defaults.baseURL="https://api.realworld.io/api",o.interceptors.response.use((e=>e.data),(e=>{var t,o;throw 401===(null==(t=e.response)?void 0:t.status)?(X.push("/login"),Y(void 0),localStorage.removeItem("token")):404===(null==(o=e.response)?void 0:o.status)&&X.push("/home"),e}));const Z=Symbol("loginInfo"),ee=Symbol("setLoginInfo"),te=async function(e){return(await o.post("/users/login",{user:e})).user},oe=async function(e){return(await o.post("/users",{user:e})).user},ae=async function(e){return(await o.put("/user",{user:e})).user},se={},ne=i("b",null,"Github:",-1),re=l("   "),ie=i("a",{href:"https://github.com/HoPGoldy/realworld-vue3-antd",target:"__blank"},"RealWorld",-1),le=l("    "),ue=i("b",null,"Author:",-1),ce=l("   "),de=i("a",{href:"https://github.com/HoPGoldy",target:"__blank"},"@HoPGoldy",-1);se.render=function(e,t){const o=a("a-layout-footer");return s(),n(o,{style:{textAlign:"center"}},{default:r((()=>[ne,re,ie,le,ue,ce,de])),_:1})},u("data-v-67eb5df8");const me=i("h1",{class:"logo"}," conduit ",-1),fe=l(" Home "),pe=l(" New Article "),ge=l(" Setting "),_e=l(" Sign in "),he=l(" Sign up ");c();var ye=d({props:{loginInfo:{type:null,required:!0}},setup(e){const t=e,{loginInfo:o}=m(t);return(e,t)=>{const i=a("router-link"),u=a("a-avatar"),c=a("a-space"),d=a("a-layout-header");return s(),n(d,{class:"header"},{default:r((()=>[me,f(c,{size:"middle"},{default:r((()=>[f(i,{to:"/"},{default:r((()=>[fe])),_:1}),p(o)?(s(),g(b,{key:0},[f(i,{to:"/editor"},{default:r((()=>[f(p(_)),pe])),_:1}),f(i,{to:"/settings"},{default:r((()=>[f(p(h)),ge])),_:1}),f(i,{to:`/user/${p(o).username}`},{default:r((()=>[f(c,{align:"baseline"},{default:r((()=>[f(u,{size:"small",src:p(o).image},null,8,["src"]),l(" "+y(p(o).username),1)])),_:1})])),_:1},8,["to"])],64)):(s(),g(b,{key:1},[f(i,{to:"/login"},{default:r((()=>[_e])),_:1}),f(i,{to:"/register"},{default:r((()=>[he])),_:1})],64))])),_:1})])),_:1})}}});ye.__scopeId="data-v-67eb5df8";var be=d({setup(e){const{loginInfo:t,setLoginInfo:i}=function(){const e=E(void 0),t=t=>{e.value=t,Y(null==t?void 0:t.token),(null==t?void 0:t.token)?localStorage.setItem("token",t.token):localStorage.removeItem("token")};return w((async()=>{const e=localStorage.getItem("token");if(!e)return;Y(e);const a=await async function(){return(await o.get("/user")).user}();t(a)})),{loginInfo:e,setLoginInfo:t}}();return v(Z,t),v(ee,i),(e,o)=>{const i=a("router-view"),l=a("a-layout-content"),u=a("a-layout");return s(),n(u,null,{default:r((()=>[f(ye,{"login-info":p(t)},null,8,["login-info"]),f(l,{style:{padding:"2em 4em",marginTop:"64px"}},{default:r((()=>[f(i)])),_:1}),f(se)])),_:1})}}});const ve=[I,L,k,P,A,S,j,R,O,T,H,D,V,$,z,G,N,q,x];C.use(K,{Hljs:M}),U.use(K,{Hljs:M});const Ee=W(be);var we;(we=Ee,ve.forEach((e=>we.use(e))),we).use(X).use(C).use(U).mount("#app");export{te as a,J as b,Z as l,oe as r,ee as s,ae as u};
