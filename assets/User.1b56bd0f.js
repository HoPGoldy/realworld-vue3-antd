import{h as e,U as a,X as t,r,o as l,d as o,w as n,i as s,u,f as i,k as d,$ as f,Y as c,S as v,ag as y,ah as m,m as p,a1 as g,a2 as b,W as _,a3 as k}from"./vendor.d5b88c84.js";import{l as j,b as w}from"./index.10a24596.js";import{_ as h}from"./ArticleList.vue_vue&type=style&index=0&lang.f4c19745.js";import{_ as x,f as T}from"./FollowButton.vue_vue&type=style&index=0&lang.d9046770.js";import"./TagList.37334d45.js";import"./article.c8400a35.js";import"./useLoding.b25ee3b2.js";const q=i(" My Article "),U=i(" Favorited Article "),C=i(" Edit Profile Setting ");var I=e({setup(e){const I=b(),S=a((()=>I.params.username));t(S,w,{immediate:!0});const A="string"==typeof I.query.tab?I.query.tab:"my",{userInfo:K,isSelf:L,followed:z,setUserInfo:B}=function(e){const t=p(),r=_(j);g((async()=>{t.value=await T(e.value)}));const l=a((()=>!!t.value&&t.value.following)),o=a((()=>{var e;return!(!t.value||!r)&&(null==(e=r.value)?void 0:e.username)===t.value.username}));return{userInfo:t,isSelf:o,setUserInfo:e=>{t.value=e},followed:l}}(S),{currentTab:E,query:F,onClickTag:$}=function(e,t){const r=k(),l=p(e),o=a((()=>"favorited"===l.value?{favorited:t.value}:{author:t.value}));return{currentTab:l,query:o,onClickTag:function(e){r.push(`/home?tab=${e}`)}}}(A,S);return(e,a)=>{const t=r("a-avatar"),p=r("a-typography-title"),g=r("a-typography-text"),b=r("a-space"),_=r("a-col"),k=r("a-row"),j=r("a-tab-pane"),w=r("router-link"),T=r("a-button"),I=r("a-tabs"),A=r("a-card");return l(),o(k,{type:"flex",justify:"center"},{default:n((()=>[s(_,{md:16,xs:24,style:{"margin-top":"1em"}},{default:n((()=>[s(A,null,{default:n((()=>[s(k,{justify:"center"},{default:n((()=>[s(_,null,{default:n((()=>[s(b,{direction:"vertical",align:"center"},{default:n((()=>{var e,a;return[s(t,{size:98,src:null==(e=u(K))?void 0:e.image},null,8,["src"]),s(p,{style:{"margin-bottom":"0"}},{default:n((()=>{var e;return[i(d(null==(e=u(K))?void 0:e.username),1)]})),_:1}),(null==(a=u(K))?void 0:a.bio)?(l(),o(g,{key:0,type:"secondary"},{default:n((()=>{var e;return[i(d(null==(e=u(K))?void 0:e.bio),1)]})),_:1})):f("",!0)]})),_:1})])),_:1})])),_:1}),s(I,{activeKey:u(E),"onUpdate:activeKey":a[0]||(a[0]=e=>c(E)?E.value=e:null),mode:"horizontal"},{tabBarExtraContent:n((()=>[u(L)?(l(),o(T,{key:0},{default:n((()=>[s(w,{to:"/settings"},{default:n((()=>[s(u(v)),C])),_:1})])),_:1})):(l(),o(x,{key:1,username:u(S),followed:u(z),onUpdate:u(B)},null,8,["username","followed","onUpdate"]))])),default:n((()=>[s(j,{key:"my"},{tab:n((()=>[s(u(y)),q])),_:1}),s(j,{key:"favorited"},{tab:n((()=>[s(u(m)),U])),_:1})])),_:1},8,["activeKey"]),s(h,{query:u(F),onTagClick:u($)},null,8,["query","onTagClick"])])),_:1})])),_:1})])),_:1})}}});export{I as default};
